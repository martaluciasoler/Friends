"use strict";const ENDPOINT="https://randomuser.me/api/?results=10";let users=[],listUsers=document.querySelectorAll(".js-userList");const list=document.querySelector(".js-list");function getData(){fetch(ENDPOINT).then(e=>e.json()).then(e=>{let s=e.results;for(let e=0;e<s.length;e++)users.push({id:s[e].id.value,picture:s[e].picture.large,name:s[e].name.first,location:s[e].location.city,login:s[e].login.username,isFriend:!1});renderUsers(users),getNamesArray()})}function renderUsers(e){let s="";for(let t=0;t<e.length;t++)!0===e[t].isFriend?(s+=`<li  class="js-userList pink list" data-id='${e[t].login}'>`,s+=`<img class="img" src="${e[t].picture}">`,s+=`<h1 class="name">${e[t].name}</h1>`,s+=`<div class="city" >${e[t].location}</div>`,s+=`<span class= "userName">"${e[t].login}"</span></li>`):(s+=`<li  class="js-userList list" data-id='${e[t].login}'>`,s+=`<img class="img" src="${e[t].picture}">`,s+=`<h1 class="name">${e[t].name}</h1>`,s+=`<div class="city">${e[t].location}</div>`,s+=`<span class= "userName">"${e[t].login}"</span></li>`);list.innerHTML=s,listeners()}function listeners(){listUsers=document.querySelectorAll(".js-userList");for(const e of listUsers)e.addEventListener("click",friendUser)}function friendUser(e){e.currentTarget.classList.toggle("pink");const s=e.currentTarget.dataset.id,t=users.map(e=>e.login).findIndex(e=>e===s);users[t].isFriend=!0}getData();const buttonSetData=document.querySelector(".js-setData");function setInToLocal(){localStorage.setItem("usersFriends",JSON.stringify(users))}buttonSetData.addEventListener("click",setInToLocal);const buttonGetData=document.querySelector(".js-getData");function getFromLocal(){renderUsers(JSON.parse(localStorage.getItem("usersFriends")))}function getNamesArray(){users.map(e=>e.name)}buttonGetData.addEventListener("click",getFromLocal);